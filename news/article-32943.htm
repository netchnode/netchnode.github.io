<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
        <link rel="canonical" href="https://netchnode.github.io/news/article-32943.htm" />
    <meta charset="utf-8">
    <title>MySQL Binlog解析</title>
        <meta name="description" content="概述 MySQL的安装可以参考：Linux(CentOS)中常用软件安装，使用及异常——MySQL, VmTools MySQL关于Binlog的官方文档：The Binary Log 基于Binlo" />
        <link rel="icon" href="/assets/website/img/netchnode/favicon.ico" type="image/x-icon"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/website/css/netchnode/magnific-popup.css">
    <link rel="stylesheet" href="/assets/website/css/netchnode/slick.css">
    <link rel="stylesheet" href="/assets/website/css/netchnode/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/website/css/netchnode/LineIcons.css">
    <link rel="stylesheet" href="/assets/website/css/netchnode/animate.css">
    <link rel="stylesheet" href="/assets/website/css/netchnode/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/website/css/netchnode/default.css">
    <link rel="stylesheet" href="/assets/website/css/netchnode/style.css">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2GDWR5X61B"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2GDWR5X61B');
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body data-page="detail">
    <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
    <div class="preloader">
        <div class="loader">
            <div class="ytp-spinner">
                <div class="ytp-spinner-container">
                    <div class="ytp-spinner-rotator">
                        <div class="ytp-spinner-left">
                            <div class="ytp-spinner-circle"></div>
                        </div>
                        <div class="ytp-spinner-right">
                            <div class="ytp-spinner-circle"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <header class="header-area">
                <div class="navbar-area">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <nav class="navbar navbar-expand-lg">
                                                        <a class="navbar-brand" href="/">
                                Netch Node
                            </a>
                                                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="toggler-icon"></span>
                                <span class="toggler-icon"></span>
                                <span class="toggler-icon"></span>
                            </button>
                            <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
                                <ul id="nav" class="navbar-nav m-auto">
                                                                        <li class="nav-item">
                                        <a href="/">首页</a>
                                    </li>
                                                                        <li class="nav-item">
                                        <a href="/free-nodes/">免费节点</a>
                                    </li>
                                                                        <li class="nav-item">
                                        <a href="/paid-subscribe/">推荐机场</a>
                                    </li>
                                                                        <li class="nav-item">
                                        <a href="/news/">新闻资讯</a>
                                    </li>
                                                                        <li class="nav-item">
                                        <a href="#">关于</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#">联系</a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <div class="page-banner bg_cover" style="background-image: url(__ADDON__/img/netchnode/page-banner-1.jpg)">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="page-banner-content wow fadeInUp" data-wow-duration="1s" data-wow-delay="0.2s">
                            <h1 class="page-title">MySQL Binlog解析</h1>
                            <p class="nav">
                                <a href="/">首页</a> / <a href="/news/">新闻资讯</a> / <span>正文</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <section id="about" class="about-area pt-110 pb-120">
        <div class="container">
            <div class="row">
                <div class="col-md-9">
                                    <input type="hidden" id="share-website-info" data-name="" data-url="">
                  				  				  				<div id="content_views" class="htmledit_views"> <div class="content-detail markdown-body"> <div class="markdown_views"> <h2><strong>概述</strong></h2> <p>MySQL的安装可以参考：<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://blog.csdn.net/u013256816/article/details/52267693"  rel="nofollow">Linux(CentOS)中常用软件安装，使用及异常——MySQL, VmTools</a></p> <p>MySQL关于Binlog的官方文档：<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://dev.mysql.com/doc/internals/en/binary-log.html"  rel="nofollow">The Binary Log</a></p> <p>基于Binlog的主备复制：<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://blog.csdn.net/u013256816/article/details/52536283"  rel="nofollow">MySQL主备复制原理、实现及异常处理</a></p> <h3><strong>什么是 Binlog</strong></h3> <p>MySQL Server 有四种类型的日志——Error Log、General Query Log、Binary Log 和 Slow Query Log。</p> <p>第一个是错误日志，记录 mysqld 的一些错误。第二个是一般查询日志，记录 mysqld 正在做的事情，比如客户端的连接和断开、来自客户端每条 Sql Statement 记录信息；如果你想准确知道客户端到底传了什么瞎 [哔哔] 玩意儿给服务端，这个日志就非常管用了，不过它非常影响性能。第四个是慢查询日志，记录一些查询比较慢的 SQL 语句——这种日志非常常用，主要是给开发者调优用的。</p> <p>剩下的第三种就是 Binlog 了，包含了一些事件，这些事件描述了数据库的改动，如建表、数据改动等，也包括一些潜在改动，比如 DELETE FROM ran WHERE bing = luan，然而一条数据都没被删掉的这种情况。除非使用 Row-based logging，否则会包含所有改动数据的 SQL Statement。</p> <p>那么 Binlog 就有了两个重要的用途——复制和恢复。比如主从表的复制，和备份恢复什么的。</p> <p>显然，我们执行SELECT等不设计数据变更的语句是不会记录Binlog的，而涉及到数据更新则会记录。要注意的是，对支持事务的引擎如InnoDB而言，必须要提交了事务才会记录Binlog。Binlog是在事务最终commit前写入的，binlog什么时候刷新到磁盘跟参数sync_binlog相关。如果设置为0，则表示MySQL不控制binlog的刷新，由文件系统去控制它缓存的刷新，而如果设置为不为0的值则表示每sync_binlog次事务，MySQL调用文件系统的刷新操作刷新binlog到磁盘中。设为1是最安全的，在系统故障时最多丢失一个事务的更新，但是会对性能有所影响，一般情况下会设置为100或者0，牺牲一定的一致性来获取更好的性能。</p> <h3><strong>开启和停用Binlog</strong></h3> <p>通过配置/etc/my.cnf配置文件的log-bin选项：</p> <pre class="prettyprint"><code class="hljs ini"><span class="hljs-title">[mysqld]</span><span class="hljs-setting">log-bin=<span class="hljs-value">mysql-bin</span></span></code></pre> <p>这个需要重启MySQL服务。<br /> 可以使用SET SQL_LOG_BIN=0命令停止使用日志文件，然后可以通过SET SQL_LOG_BIN=1命令来启用。</p> <h3><strong>Binlog的删除</strong></h3> <pre class="prettyprint"><code class="hljs oxygene">mysql&gt; show variables like<span class="hljs-string">'expire_log_days'</span>; mysql&gt;<span class="hljs-keyword">set</span><span class="hljs-keyword">global</span> expire_log_days=<span class="hljs-number">3</span>;<span class="hljs-comment">//过期删除</span> mysql&gt; reset master;<span class="hljs-comment">//删除master的binlog</span> mysql&gt; reset slave;<span class="hljs-comment">//删除slave的中继日志</span> mysql&gt; purge master logs before<span class="hljs-string">'2016-10-20 16:25:00'</span>;<span class="hljs-comment">//删除指定日期前的日志索引中binlog日志文件</span> mysql&gt; purge master logs<span class="hljs-keyword">to</span><span class="hljs-string">'binlog.000002'</span>;<span class="hljs-comment">//删除指定日志文件</span></code></pre> <p>除了以上方法之外，也可以采用操作系统的本地命令删除文件。</p> <h3><strong>Binlog文件的扩展</strong></h3> <p>当遇到以下3种情况时会重新生成一个新的日志文件，文件序号递增：</p> <ol> <li>MySQL服务器停止或重启时，MySQL会在重启时生成一个新的日志文件；</li> <li>使用flush logs命令；</li> <li>当binlog文件大小超过max_binlog_size系统变量配置的上限时；</li> </ol> <blockquote> <p>binlog文件的最大值和默认值是1GB，该设置并不能严格控制binlog的大小，尤其是binlog比较靠近最大值而又遇到一个比较大事务时，为了保证事务的完整性，不可能做切换日志的动作，只能将该事务的所有SQL都记录到当前日志，直到事务结束。</p> </blockquote> <h3><strong>Binlog的日志格式</strong></h3> <p>binlog有三种格式：Statement, Row和Mixed.</p> <ul> <li>基于SQL语句的复制（statement-based replication, SBR）</li> <li>基于行的复制（row-based replication, RBR）</li> <li>混合模式复制（mixed-based replication, MBR）</li> </ul> <p><strong>Statement</strong></p> <p>每一条会修改数据的sql都会记录在binlog中。</p> <p>优点：不需要记录每一行的变化，减少了binlog日志量，节约了IO, 提高了性能。</p> <p>缺点：由于记录的只是执行语句，为了这些语句能在slave上正确运行，因此还必须记录每条语句在执行的时候的一些相关信息，以保证所有语句能在slave得到和在master端执行的时候相同的结果。另外mysql的复制，像一些特定函数的功能，slave可与master上要保持一致会有很多相关问题。</p> <blockquote> <p>相比row能节约多少性能与日志量，这个取决于应用的SQL情况，正常同一条记录修改或者插入row格式所产生的日志量还小鱼statement产生的日志量，但是考虑到如果带条件的update操作，以及整表删除，alter表等操作，row格式会产生大量日志，因此在考虑是否使用row格式日志时应该根据应用的实际情况，其所产生的日志量会增加多少，以及带来的IO性能问题。</p> </blockquote> <p><strong>Row</strong></p> <p>5.1.5版本的MySQL才开始支持row level的复制,它不记录sql语句上下文相关信息，仅保存哪条记录被修改。</p> <p>优点： binlog中可以不记录执行的sql语句的上下文相关的信息，仅需要记录那一条记录被修改成什么了。所以row的日志内容会非常清楚的记录下每一行数据修改的细节。而且不会出现某些特定情况下的存储过程，或function，以及trigger的调用和触发无法被正确复制的问题.</p> <p>缺点:所有的执行的语句当记录到日志中的时候，都将以每行记录的修改来记录，这样可能会产生大量的日志内容。</p> <blockquote> <p>新版本的MySQL中对row level模式也被做了优化，并不是所有的修改都会以row level来记录，像遇到表结构变更的时候就会以statement模式来记录，如果sql语句确实就是update或者delete等修改数据的语句，那么还是会记录所有行的变更。</p> </blockquote> <p><strong>Mixed</strong></p> <p>从5.1.8版本开始，MySQL提供了Mixed格式，实际上就是Statement与Row的结合。<br /> 在Mixed模式下，一般的语句修改使用statment格式保存binlog，如一些函数，statement无法完成主从复制的操作，则采用row格式保存binlog，MySQL会根据执行的每一条具体的sql语句来区分对待记录的日志形式，也就是在Statement和Row之间选择一种。</p> <hr/> <h2><strong>详述</strong></h2> <h3><strong>查看Binlog文件</strong></h3> <p>查看当前服务器使用的二进制文件及大小：</p> <pre class="prettyprint"><code class="hljs asciidoc"><span class="hljs-header">mysql&gt; show binary logs; +------------------+-----------+</span><span class="hljs-header">| Log_name         | File_size | +------------------+-----------+</span> | mysql-bin.000001 |       126 | | mysql-bin.000002 |       126 | | mysql-bin.000003 |      6819 | | mysql-bin.000004 |      2749 |<span class="hljs-header">| mysql-bin.000005 |      1475 | +------------------+-----------+</span></code></pre> <p>显示主服务器使用的二进制文件及大小：</p> <pre class="prettyprint"><code class="hljs asciidoc"><span class="hljs-header">mysql&gt; show master logs; +------------------+-----------+</span><span class="hljs-header">| Log_name         | File_size | +------------------+-----------+</span> | mysql-bin.000001 |       126 | | mysql-bin.000002 |       126 | | mysql-bin.000003 |      6819 | | mysql-bin.000004 |      2749 |<span class="hljs-header">| mysql-bin.000005 |      1475 | +------------------+-----------+</span></code></pre> <p>显示当前使用的二进制文件及所处位置：</p> <pre class="prettyprint"><code class="hljs asciidoc"><span class="hljs-header">mysql&gt; show master status; +------------------+----------+--------------+------------------+</span><span class="hljs-header">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | +------------------+----------+--------------+------------------+</span><span class="hljs-header">| mysql-bin.000005 |     1475 |              |                  | +------------------+----------+--------------+------------------+</span></code></pre> <blockquote> <p>binlog_do_db：此参数表示只记录制定数据库的二进制日志<br /> binlog_ignore_db：此参数标示不记录指定的数据库的二进制日志</p> </blockquote> <p>需要查看某个具体binlog文件的内容时，以“mysql-bin.000005”为例。<br /> 在MySQL客户端输入：<strong>show binlog events in “mysql-bin.000005”</strong>;<br /> 效果如下所示：</p> <pre class="prettyprint"><code class="hljs lasso">mysql<span class="hljs-subst">&gt;</span> show binlog events<span class="hljs-keyword">in</span><span class="hljs-string">'mysql-bin.000005'</span>;<span class="hljs-subst">+------------------+-----+-------------+-----------+-------------+---------------------------------------+</span><span class="hljs-subst">|</span> Log_name<span class="hljs-subst">|</span> Pos<span class="hljs-subst">|</span> Event_type<span class="hljs-subst">|</span> Server_id<span class="hljs-subst">|</span> End_log_pos<span class="hljs-subst">|</span> Info<span class="hljs-subst">|</span><span class="hljs-subst">+------------------+-----+-------------+-----------+-------------+---------------------------------------+</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">4</span><span class="hljs-subst">|</span> Format_desc<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">107</span><span class="hljs-subst">|</span> Server ver:<span class="hljs-number">5.5</span><span class="hljs-number">.51</span><span class="hljs-attribute">-log</span>, Binlog ver:<span class="hljs-number">4</span><span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">107</span><span class="hljs-subst">|</span> Query<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">181</span><span class="hljs-subst">|</span> BEGIN<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">181</span><span class="hljs-subst">|</span> Table_map<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">239</span><span class="hljs-subst">|</span> table_id:<span class="hljs-number">44</span> (canal_test<span class="hljs-built_in">.</span>company)<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">239</span><span class="hljs-subst">|</span> Write_rows<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">287</span><span class="hljs-subst">|</span> table_id:<span class="hljs-number">44</span> flags: STMT_END_F<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">287</span><span class="hljs-subst">|</span> Xid<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">314</span><span class="hljs-subst">|</span> COMMIT<span class="hljs-comment">/* xid=23915 */</span><span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">314</span><span class="hljs-subst">|</span> Query<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">388</span><span class="hljs-subst">|</span> BEGIN<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">388</span><span class="hljs-subst">|</span> Table_map<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">449</span><span class="hljs-subst">|</span> table_id:<span class="hljs-number">35</span> (canal_test<span class="hljs-built_in">.</span>person)<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">449</span><span class="hljs-subst">|</span> Update_rows<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">526</span><span class="hljs-subst">|</span> table_id:<span class="hljs-number">35</span> flags: STMT_END_F<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">526</span><span class="hljs-subst">|</span> Xid<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">553</span><span class="hljs-subst">|</span> COMMIT<span class="hljs-comment">/* xid=26960 */</span><span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">553</span><span class="hljs-subst">|</span> Query<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">627</span><span class="hljs-subst">|</span> BEGIN<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">627</span><span class="hljs-subst">|</span> Table_map<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">688</span><span class="hljs-subst">|</span> table_id:<span class="hljs-number">35</span> (canal_test<span class="hljs-built_in">.</span>person)<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">688</span><span class="hljs-subst">|</span> Write_rows<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">741</span><span class="hljs-subst">|</span> table_id:<span class="hljs-number">35</span> flags: STMT_END_F<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">741</span><span class="hljs-subst">|</span> Xid<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">768</span><span class="hljs-subst">|</span> COMMIT<span class="hljs-comment">/* xid=26961 */</span><span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">768</span><span class="hljs-subst">|</span> Query<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">842</span><span class="hljs-subst">|</span> BEGIN<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">842</span><span class="hljs-subst">|</span> Table_map<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">903</span><span class="hljs-subst">|</span> table_id:<span class="hljs-number">35</span> (canal_test<span class="hljs-built_in">.</span>person)<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">903</span><span class="hljs-subst">|</span> Delete_rows<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">956</span><span class="hljs-subst">|</span> table_id:<span class="hljs-number">35</span> flags: STMT_END_F<span class="hljs-subst">|</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000005</span><span class="hljs-subst">|</span><span class="hljs-number">956</span><span class="hljs-subst">|</span> Xid<span class="hljs-subst">|</span><span class="hljs-number">2</span><span class="hljs-subst">|</span><span class="hljs-number">983</span><span class="hljs-subst">|</span> COMMIT<span class="hljs-comment">/* xid=26964 */</span><span class="hljs-subst">|</span><span class="hljs-subst">+------------------+-----+-------------+-----------+-------------+---------------------------------------+</span><span class="hljs-number">17</span><span class="hljs-keyword">rows</span><span class="hljs-keyword">in</span><span class="hljs-built_in">set</span> (<span class="hljs-number">0.00</span> sec)</code></pre> <p>或者使用<strong>mysqlbinlog</strong>命令，在shell终端输入（假设当前目录为 ../mysql/data）: ../bin/mysqlbinlog mysql-bin.000005</p> <pre class="prettyprint"><code class="hljs coffeescript">[root<span class="hljs-property">@zhuzhonghua1</span>-c6uu8 data]<span class="hljs-comment"># pwd</span> /usr/local/mysql/data [root<span class="hljs-property">@zhuzhonghua1</span>-c6uu8 data]<span class="hljs-comment"># ../bin/mysqlbinlog mysql-bin.000005</span><span class="hljs-regexp">/*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE=1*/</span>;<span class="hljs-regexp">/*!40019 SET @@session.max_insert_delayed_threads=0*/</span>;<span class="hljs-regexp">/*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0*/</span>; DELIMITER<span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 4</span><span class="hljs-comment">#161020 11:07:29 server id 2  end_log_pos 107   Start: binlog v 4, server v 5.5.51-log created 161020 11:07:29</span><span class="hljs-comment"># Warning: this binlog is either in use or was not closed properly.</span> BINLOG<span class="hljs-string">' 8TQIWA8CAAAAZwAAAGsAAAABAAQANS41LjUxLWxvZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAEzgNAAgAEgAEBAQEEgAAVAAEGggAAAAICAgCAA== '</span><span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 107</span><span class="hljs-comment">#161020 11:08:50 server id 2  end_log_pos 181   Query   thread_id=162   exec_time=1 error_code=0</span> SET TIMESTAMP=<span class="hljs-number">1476932930</span>/*!*/; SET @<span class="hljs-property">@session</span>.pseudo_thread_id=<span class="hljs-number">162</span>/*!*/; SET @<span class="hljs-property">@session</span>.foreign_key_checks=<span class="hljs-number">1</span>, @<span class="hljs-property">@session</span>.sql_auto_is_null=<span class="hljs-number">0</span>, @<span class="hljs-property">@session</span>.unique_checks=<span class="hljs-number">1</span>, @<span class="hljs-property">@session</span>.autocommit=<span class="hljs-number">1</span>/*!*/; SET @<span class="hljs-property">@session</span>.sql_mode=<span class="hljs-number">0</span>/*!*/; SET @<span class="hljs-property">@session</span>.auto_increment_increment=<span class="hljs-number">1</span>, @<span class="hljs-property">@session</span>.auto_increment_offset=<span class="hljs-number">1</span>/*!*/;<span class="hljs-regexp">/*!\C utf8 */</span><span class="hljs-regexp">/*!*/</span>; SET @<span class="hljs-property">@session</span>.character_set_client=<span class="hljs-number">33</span>,@<span class="hljs-property">@session</span>.collation_connection=<span class="hljs-number">33</span>,@<span class="hljs-property">@session</span>.collation_server=<span class="hljs-number">8</span>/*!*/; SET @<span class="hljs-property">@session</span>.lc_time_names=<span class="hljs-number">0</span>/*!*/; SET @<span class="hljs-property">@session</span>.collation_database=DEFAULT<span class="hljs-regexp">/*!*/</span>; BEGIN<span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 181</span><span class="hljs-comment"># at 239</span><span class="hljs-comment">#161020 11:08:50 server id 2  end_log_pos 239   Table_map: `canal_test`.`company` mapped to number 44</span><span class="hljs-comment">#161020 11:08:50 server id 2  end_log_pos 287   Write_rows: table id 44 flags: STMT_END_F</span>  BINLOG<span class="hljs-string">' QjUIWBMCAAAAOgAAAO8AAAAAACwAAAAAAAEACmNhbmFsX3Rlc3QAB2NvbXBhbnkAAwMPDwQsASwB Bg== QjUIWBcCAAAAMAAAAB8BAAAAACwAAAAAAAEAA//4AgAAAAIAZHAIAHNoYW5naGFp '</span><span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 287</span><span class="hljs-comment">#161020 11:08:50 server id 2  end_log_pos 314   Xid = 23915</span> COMMIT<span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 314</span><span class="hljs-comment">#161020 12:03:50 server id 2  end_log_pos 388   Query   thread_id=162   exec_time=0 error_code=0</span> SET TIMESTAMP=<span class="hljs-number">1476936230</span>/*!*/; BEGIN<span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 388</span><span class="hljs-comment"># at 449</span><span class="hljs-comment">#161020 12:03:50 server id 2  end_log_pos 449   Table_map: `canal_test`.`person` mapped to number 35</span><span class="hljs-comment">#161020 12:03:50 server id 2  end_log_pos 526   Update_rows: table id 35 flags: STMT_END_F</span>  BINLOG<span class="hljs-string">' JkIIWBMCAAAAPQAAAMEBAAAAACMAAAAAAAEACmNhbmFsX3Rlc3QABnBlcnNvbgAFAw8D/g8GLAH+ AywBHg== JkIIWBgCAAAATQAAAA4CAAAAACMAAAAAAAEABf//4AEAAAADAHp6aAIAAAABbQQAaGVyZeABAAAA AwB6emgCAAAAAW0HAG5hbmppbmc= '</span><span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 526</span><span class="hljs-comment">#161020 12:03:50 server id 2  end_log_pos 553   Xid = 26960</span> COMMIT<span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 553</span><span class="hljs-comment">#161020 12:05:56 server id 2  end_log_pos 627   Query   thread_id=162   exec_time=0 error_code=0</span> SET TIMESTAMP=<span class="hljs-number">1476936356</span>/*!*/; BEGIN<span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 627</span><span class="hljs-comment"># at 688</span><span class="hljs-comment">#161020 12:05:56 server id 2  end_log_pos 688   Table_map: `canal_test`.`person` mapped to number 35</span><span class="hljs-comment">#161020 12:05:56 server id 2  end_log_pos 741   Write_rows: table id 35 flags: STMT_END_F</span>  BINLOG<span class="hljs-string">' pEIIWBMCAAAAPQAAALACAAAAACMAAAAAAAEACmNhbmFsX3Rlc3QABnBlcnNvbgAFAw8D/g8GLAH+ AywBHg== pEIIWBcCAAAANQAAAOUCAAAAACMAAAAAAAEABf/gBAAAAAQAenpoNBYAAAABbQUAd2hlcmU= '</span><span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 741</span><span class="hljs-comment">#161020 12:05:56 server id 2  end_log_pos 768   Xid = 26961</span> COMMIT<span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 768</span><span class="hljs-comment">#161020 12:06:34 server id 2  end_log_pos 842   Query   thread_id=162   exec_time=0 error_code=0</span> SET TIMESTAMP=<span class="hljs-number">1476936394</span>/*!*/; BEGIN<span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 842</span><span class="hljs-comment"># at 903</span><span class="hljs-comment">#161020 12:06:34 server id 2  end_log_pos 903   Table_map: `canal_test`.`person` mapped to number 35</span><span class="hljs-comment">#161020 12:06:34 server id 2  end_log_pos 956   Delete_rows: table id 35 flags: STMT_END_F</span>  BINLOG<span class="hljs-string">' ykIIWBMCAAAAPQAAAIcDAAAAACMAAAAAAAEACmNhbmFsX3Rlc3QABnBlcnNvbgAFAw8D/g8GLAH+ AywBHg== ykIIWBkCAAAANQAAALwDAAAAACMAAAAAAAEABf/gBAAAAAQAenpoNBYAAAABbQUAd2hlcmU= '</span><span class="hljs-regexp">/*!*/</span>;<span class="hljs-comment"># at 956</span><span class="hljs-comment">#161020 12:06:34 server id 2  end_log_pos 983   Xid = 26964</span> COMMIT<span class="hljs-regexp">/*!*/</span>; DELIMITER ;<span class="hljs-comment"># End of log file</span> ROLLBACK<span class="hljs-regexp">/* added by mysqlbinlog */</span>;<span class="hljs-regexp">/*!50003 SET COMPLETION_TYPE=@OLD_COMPLETION_TYPE*/</span>;<span class="hljs-regexp">/*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE=0*/</span>;</code></pre> <p>截取上面的一段进行分析：</p> <pre class="prettyprint"><code class="hljs vala"><span class="hljs-preprocessor"># at 314</span><span class="hljs-preprocessor">#161020 12:03:50 server id 2  end_log_pos 388   Query   thread_id=162   exec_time=0 error_code=0</span> SET TIMESTAMP=<span class="hljs-number">1476936230</span><span class="hljs-comment">/*!*/</span>; BEGIN<span class="hljs-comment">/*!*/</span>;</code></pre> <p>上面输出包括如下要素：</p> <ul> <li>position: 位于文件中的位置，即第一行的（# at 314）,说明该事件记录从文件第314个字节开始</li> <li>timestamp: 事件发生的时间戳，即第二行的（#161020 11:07:29）</li> <li>exec_time: 事件执行的花费时间</li> <li>error_code: 错误码</li> <li>server id: 服务器标识（2）</li> <li>thread_id: 代理线程id （thread_id=162）</li> <li>type:事件类型Query(参考下一章节)</li> </ul> <p>使用<strong>mysqlbinlog命令还可以进行数据库恢复</strong>，使用日志进行恢复时，需要依次进行，即最早生成的日志文件要最先恢复：</p> <pre class="prettyprint"><code class="hljs lasso">mysqlbinlog mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000001</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-uroot</span><span class="hljs-attribute">-proot</span> mysqlbinlog mysql<span class="hljs-attribute">-bin</span><span class="hljs-number">.000002</span><span class="hljs-subst">|</span> mysql<span class="hljs-attribute">-uroot</span><span class="hljs-attribute">-proot</span><span class="hljs-attribute">...</span><span class="hljs-built_in">..</span></code></pre> <hr/> <h2><strong>Binlog事件</strong></h2> <h3><strong>Binlog事件类型</strong></h3> <p>binlog事件类型一共有三个版本：</p> <ul> <li>v1: Used in MySQL 3.23</li> <li>v3: Used in MySQL 4.0.2 though 4.1</li> <li>v4: Used in MySQL 5.0 and up</li> </ul> <blockquote> <p>v2出现了很短的时间，并且已经不被支持</p> </blockquote> <p>现在所使用的MySQL一般都是5.5起了，所以下面陈述的都是v4版的binlog事件类型。</p> <p>binlog的事件类型一共有以下几种：</p> <pre class="prettyprint"><code class="hljs rust"><span class="hljs-keyword">enum</span><span class="hljs-title">Log_event_type</span> {    UNKNOWN_EVENT=<span class="hljs-number">0</span>,    START_EVENT_V3=<span class="hljs-number">1</span>,    QUERY_EVENT=<span class="hljs-number">2</span>,    STOP_EVENT=<span class="hljs-number">3</span>,    ROTATE_EVENT=<span class="hljs-number">4</span>,    INTVAR_EVENT=<span class="hljs-number">5</span>,    LOAD_EVENT=<span class="hljs-number">6</span>,    SLAVE_EVENT=<span class="hljs-number">7</span>,    CREATE_FILE_EVENT=<span class="hljs-number">8</span>,    APPEND_BLOCK_EVENT=<span class="hljs-number">9</span>,    EXEC_LOAD_EVENT=<span class="hljs-number">10</span>,    DELETE_FILE_EVENT=<span class="hljs-number">11</span>,    NEW_LOAD_EVENT=<span class="hljs-number">12</span>,    RAND_EVENT=<span class="hljs-number">13</span>,    USER_VAR_EVENT=<span class="hljs-number">14</span>,    FORMAT_DESCRIPTION_EVENT=<span class="hljs-number">15</span>,    XID_EVENT=<span class="hljs-number">16</span>,    BEGIN_LOAD_QUERY_EVENT=<span class="hljs-number">17</span>,    EXECUTE_LOAD_QUERY_EVENT=<span class="hljs-number">18</span>,    TABLE_MAP_EVENT =<span class="hljs-number">19</span>,    PRE_GA_WRITE_ROWS_EVENT =<span class="hljs-number">20</span>,    PRE_GA_UPDATE_ROWS_EVENT =<span class="hljs-number">21</span>,    PRE_GA_DELETE_ROWS_EVENT =<span class="hljs-number">22</span>,    WRITE_ROWS_EVENT =<span class="hljs-number">23</span>,    UPDATE_ROWS_EVENT =<span class="hljs-number">24</span>,    DELETE_ROWS_EVENT =<span class="hljs-number">25</span>,    INCIDENT_EVENT=<span class="hljs-number">26</span>,    HEARTBEAT_LOG_EVENT=<span class="hljs-number">27</span>,    IGNORABLE_LOG_EVENT=<span class="hljs-number">28</span>,   ROWS_QUERY_LOG_EVENT=<span class="hljs-number">29</span>,   WRITE_ROWS_EVENT_V2 =<span class="hljs-number">30</span>,   UPDATE_ROWS_EVENT_V2 =<span class="hljs-number">31</span>,   DELETE_ROWS_EVENT_V2 =<span class="hljs-number">32</span>,   GTID_LOG_EVENT=<span class="hljs-number">33</span>,   ANONYMOUS_GTID_LOG_EVENT=<span class="hljs-number">34</span>,   PREVIOUS_GTIDS_LOG_EVENT=<span class="hljs-number">35</span>,    ENUM_END_EVENT<span class="hljs-comment">/* end marker */</span>  };</code></pre> <p>20-22三个类型现在已经被飞起，这三个类型只出现在MySQL的5.1.5-5.1.7版本中。现在（从5.1.7版本开始）使用的WRITE, UPDATE, DELETE三个事件类型分别采用23，24，25。</p> <h3><strong>事件类型简述</strong></h3> <p><strong>QUERY_EVENT</strong></p> <p>记录一条query语句，在基于语句的复制和基于行的复制都会有。</p> <p><strong>ROTATE_EVENT</strong></p> <p>二进制日志更换一个新文件，可能因为文件大小达到限制，或者是mysql重启，亦或者是调用了flush logs命令。</p> <p><strong>XID_EVENT</strong></p> <p>Commit事件</p> <p><strong>WRITE_ROWS_EVENT, UPDATE_ROWS_EVENT, DELETE_ROWS_EVENT</strong></p> <p>统称为ROW EVENT, 只有在基于row的复制方式下才会产生。</p> <ul> <li>WRITE_ROWS_EVENT：包含了要插入的数据</li> <li>UPDATE_ROWS_EVENT：包含了修改前的值，也包含了修改后的值</li> <li>DELETE_ROWS_EVENT：包含了需要删除行前的值</li> </ul> <p><strong>TABLE_MAP_EVENT</strong></p> <p>ROW EVENT之前产生，为的是对ROW EVENT解析提供依据。</p> <p><strong>FORMAT_DESCRIPTION_EVENT</strong></p> <p>MySQL根据其定义来解析其他事件</p> <p><strong>INTVAR_EVET</strong></p> <p>在statement时使用到，用于自增类型auto_increment.</p> <p><strong>STOP_EVENT</strong></p> <p>MySQL停止时，在文件尾加入STOP_EVENT</p> <p>更多事件类型可以参考MySQL官方文档：<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://dev.mysql.com/doc/internals/en/event-meanings.html"  rel="nofollow">http://dev.mysql.com/doc/internals/en/event-meanings.html</a></p> <h3><strong>事件类型分析</strong></h3> <p>每个event都有一个19个字节的Binlog Event Header（如下图）, 包括四个字节的timestamep, 一个字节的Binlog Event type, 4个字节的server_id（该id表明binlog的源server是哪个，用来在循环复制中国龙event），四个字节的event包大小，四个字节的下一个event起始偏移，两个字节的Binlog Event Flag. extra_headers目前的event中没有涉及到，预留用。</p> <p>V4 event structure:</p> <p><img decoding="async" src="http://img.555519.xyz/uploads3/20220830/1dc31fd6e83b9f5f51f19bb5f1b53c7c.jpg" alt="MySQL Binlog解析"></p> <p>一个新的binlog文件都是以FORMAT_DESCRIPTION_EVENT开始的（v4版）。这里就以FORMAT_DESCRIPTION_EVENT为例来解析下(mysql-bin.000005)。通过hexdump -C mysql-bin.000005来查看二进制文件。（下面只列出部分内容）</p> <pre class="prettyprint"><code class="hljs 1c">[root@zhuzhonghua1-c6uu8 data]<span class="hljs-preprocessor"># hexdump -C mysql-bin.000005</span><span class="hljs-number">00000000</span>  fe<span class="hljs-number">62</span><span class="hljs-number">69</span><span class="hljs-number">6</span>e f1<span class="hljs-number">34</span><span class="hljs-number">08</span><span class="hljs-number">58</span><span class="hljs-number">0</span>f<span class="hljs-number">02</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">67</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-string">|.bin.4.X.....g..|</span><span class="hljs-number">00000010</span><span class="hljs-number">00</span><span class="hljs-number">6</span>b<span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">01</span><span class="hljs-number">00</span><span class="hljs-number">04</span><span class="hljs-number">00</span><span class="hljs-number">35</span><span class="hljs-number">2</span>e<span class="hljs-number">35</span><span class="hljs-number">2</span>e<span class="hljs-number">35</span><span class="hljs-number">31</span><span class="hljs-number">2</span>d<span class="hljs-string">|.k.......5.5.51-|</span><span class="hljs-number">00000020</span><span class="hljs-number">6</span>c<span class="hljs-number">6</span>f<span class="hljs-number">67</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-string">|log.............|</span><span class="hljs-number">00000030</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-string">|................|</span><span class="hljs-number">00000040</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">13</span><span class="hljs-string">|................|</span><span class="hljs-number">00000050</span><span class="hljs-number">38</span><span class="hljs-number">0</span>d<span class="hljs-number">00</span><span class="hljs-number">08</span><span class="hljs-number">00</span><span class="hljs-number">12</span><span class="hljs-number">00</span><span class="hljs-number">04</span><span class="hljs-number">04</span><span class="hljs-number">04</span><span class="hljs-number">04</span><span class="hljs-number">12</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">54</span><span class="hljs-number">00</span><span class="hljs-string">|8.............T.|</span><span class="hljs-number">00000060</span><span class="hljs-number">04</span><span class="hljs-number">1</span>a<span class="hljs-number">08</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">08</span><span class="hljs-number">08</span><span class="hljs-number">08</span><span class="hljs-number">02</span><span class="hljs-number">00</span><span class="hljs-number">42</span><span class="hljs-number">35</span><span class="hljs-number">08</span><span class="hljs-number">58</span><span class="hljs-number">02</span><span class="hljs-string">|...........B5.X.|</span><span class="hljs-number">00000070</span><span class="hljs-number">02</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">4</span>a<span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span>  b5<span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">08</span><span class="hljs-number">00</span> a2<span class="hljs-number">00</span><span class="hljs-string">|....J...........|</span><span class="hljs-number">00000080</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">01</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">0</span>a<span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">1</span>a<span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-string">|................|</span><span class="hljs-number">00000090</span><span class="hljs-number">01</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">00</span><span class="hljs-number">06</span><span class="hljs-number">03</span><span class="hljs-number">73</span><span class="hljs-number">74</span><span class="hljs-number">64</span><span class="hljs-number">04</span><span class="hljs-number">21</span><span class="hljs-string">|...........std.!|</span></code></pre> <p>按照官方文档中的说明来看下FORMAT_DESCRIPTION_EVENT格式:</p> <p>v4 format description event</p> <p><img decoding="async" src="http://img.555519.xyz/uploads3/20220830/40a3194986f23efc7a42f2407dcdaf32.jpg" alt="MySQL Binlog解析"></p> <p>binlog是小端字节序的。binlog前4个字节是魔数：0xFE 0x62 0x69 0x6E. 接着是一个FORMAT_DESCRIPTION_EVENT，先看下19个字节的event header. f1 34 08 58即0x580834f1是指时间戳，占4个字节；第5个字节0x0f是type_code即event type（FORMAT_DESCRIPTION_EVENT=15）；接着4个字节02 00 00 00 即0x00000002是server_id；再接着4个字节67 00 00 00是event_length=0x00000067=103;然后4个字节6b 00 00 00是下一个next_position=0x0000006b=107；接着两个字节01 00是flag=0x0001=1,1为LOG_EVENT_BINLOG_IN_USE_F,标识binlog还没有关闭，binlog关闭后，flag会被设置为0。这样4+1+4+4+4+2=19个字节。</p> <p>event data部分分为fixed data和variable data两部分，其中fixed data是event的固定长度和格式的数据，variable data则是长度变化的数据，比如FORMAT_DESCRIPTION_EVENT的fix data长度是0x54=84字节。下面看下这84=2+50+4+1+27个字节的分配：开始的2个字节0x0004是binlog的版本号；接着的50个字节为mysql-server版本5.5.51-log；接下来4个字节是binlog创建时间，这里是0；然后1个字节是0x13是指之后所有event的公共长度，这里都是19；接着27个字节中每个字节为mysql已知的event（共27个）的fixed data的长度；可以发现FORMAT_DESCRIPTION_EVENT自身的variable data部分为空。</p> <hr/> <p>参考资料:<br /> 1.<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://blog.csdn.net/u013256816/article/details/52267693"  rel="nofollow">Linux(CentOS)中常用软件安装，使用及异常——MySQL, VmTools</a><br /> 2.<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://dev.mysql.com/doc/internals/en/binary-log.html"  rel="nofollow">The Binary Log</a><br /> 3.<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://blog.csdn.net/u013256816/article/details/52536283"  rel="nofollow">MySQL主备复制原理、实现及异常处理</a><br /> 4.<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://www.jianshu.com/p/c16686b35807"  rel="nofollow">MySQL binlog格式解析</a></p> </div> </div> </div> 			                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-32463.htm">Homebrew安装、换源</a></p>
                                        <p>下一个：<a href="/news/article-32944.htm">宠物店寄养需要多少钱（宠物店寄养多少钱?）</a></p>
                                    </div>
                                </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/news/article-26360.htm" title="动物疫苗研究所电话（动物医院打疫苗多少钱）">动物疫苗研究所电话（动物医院打疫苗多少钱）</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-9-17-free-netch-node.htm" title="「9月17日」最高速度23M/S，2024年Netch每天更新免费节点订阅链接">「9月17日」最高速度23M/S，2024年Netch每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-7-31-free-clash-subscribe.htm" title="「7月31日」最高速度23M/S，2024年Netch每天更新免费节点订阅链接">「7月31日」最高速度23M/S，2024年Netch每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-18771.htm" title="延吉安泰动物医院电话号码是多少号（延吉动物医院在哪里）">延吉安泰动物医院电话号码是多少号（延吉动物医院在哪里）</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-9-7-share-netch-node.htm" title="「9月7日」最高速度18.2M/S，2024年Netch每天更新免费节点订阅链接">「9月7日」最高速度18.2M/S，2024年Netch每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-11-19-free-netch.htm" title="「11月19日」最高速度19.5M/S，2024年Netch每天更新免费节点订阅链接">「11月19日」最高速度19.5M/S，2024年Netch每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-11-17-free-node-subscribe-links.htm" title="「11月17日」最高速度18M/S，2024年Netch每天更新免费节点订阅链接">「11月17日」最高速度18M/S，2024年Netch每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-30566.htm" title="网络地址匹配">网络地址匹配</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-9-23-share-netch-node.htm" title="「9月23日」最高速度22.4M/S，2024年Netch每天更新免费节点订阅链接">「9月23日」最高速度22.4M/S，2024年Netch每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-32461.htm" title="JavaScript查找字符串中的字母距离">JavaScript查找字符串中的字母距离</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">93</span> <a href="/date/2024-12/" title="2024-12 归档">2024-12</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">34</span> <a href="/date/2024-11/" title="2024-11 归档">2024-11</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">31</span> <a href="/date/2024-10/" title="2024-10 归档">2024-10</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">30</span> <a href="/date/2024-09/" title="2024-09 归档">2024-09</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">31</span> <a href="/date/2024-08/" title="2024-08 归档">2024-08</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">20</span> <a href="/date/2024-07/" title="2024-07 归档">2024-07</a></h4>
            </li>
                    </ul>
    </div>
</div>

                </div>
            </div>
        </div>
    </section>
        <footer id="footer" class="footer-area bg_cover" style="background-image: url(__ADDON__/img/netchnode/footer-bg.jpg)">
        <div class="footer-shape">
            <img href="/assets/website/img/netchnode/shape/footer-shape.png" alt="footer shape">
        </div>
        <div class="container">
            <div class="footer-copyright text-center">
                            <p>
                                <a href="/">首页</a> | 
                                <a href="/free-node/">免费节点</a> | 
                                <a href="/news/">新闻资讯</a> |
                                <a href="/about-us.htm">关于我们</a> |
                                <a href="/disclaimer.htm">免责申明</a> |
                                <a href="/privacy.htm">隐私申明</a> |
                                <a href="/sitemap.xml">网站地图</a>
                            </p>
                <p class="text">
                    <a href="/">NetchNode节点订阅站</a> 版权所有 Powered by WordPress
                </p>
            </div>
        </div>
    </footer>
    <a href="#" class="back-to-top"><i class="lni-chevron-up"></i></a>
    <script data-cfasync="false" src="/assets/website/js/frontend/netchnode/email-decode.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/vendor/jquery-1.12.4.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/vendor/modernizr-3.7.1.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/popper.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/bootstrap.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/slick.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/ajax-contact.js"></script>
    <script src="/assets/website/js/frontend/netchnode/imagesloaded.pkgd.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/isotope.pkgd.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/waypoints.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/jquery.counterup.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/wow.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/jquery.easing.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/scrolling-nav.js"></script>
    <script src="/assets/website/js/frontend/netchnode/scrollIt.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/jquery.magnific-popup.min.js"></script>
    <script src="/assets/website/js/frontend/netchnode/main.js"></script>
    <script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script><script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>